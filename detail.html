<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Chi ti·∫øt s·∫£n ph·∫©m</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <header class="header-container">
      <div class="logo" onclick="location.href = 'index.html'">‚ö° SHOE-DEV</div>
    </header>

    <main>
      <section class="content" id="productDetailContainer">
<script src="script.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(window.location.search);
    const productId = parseInt(params.get("id"));

    const product = shoes.find((s) => s.id === productId);
    const container = document.getElementById("productDetailContainer");

    if (product && container) {
      container.innerHTML = `
        <div style="display: flex; gap: 40px; padding: 20px; flex-wrap: wrap; align-items: flex-start;">
          <div style="flex: 1; min-width: 300px;">
            <img src="${product.image}" alt="${product.name}" style="width: 100%; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
          </div>
          <div style="flex: 1; min-width: 300px;">
            <h1 style="font-size: 32px; margin-bottom: 10px;">${product.name}</h1>
            <p style="color: #64748b; font-size: 18px;">Th∆∞∆°ng hi·ªáu: <strong>${product.brand}</strong></p>
            <h2 style="color: #dc2626; font-size: 28px; margin: 20px 0;">${product.price.toLocaleString()}ƒë</h2>
            <p style="line-height: 1.6; color: #475569; margin-bottom: 30px;">${product.desc}</p>
            
            <div style="display: flex; gap: 15px;">
              <button onclick="handlePurchase(${product.id}, 'cart')" class="add-btn" 
                      style="flex: 1; padding: 15px; background: #38bdf8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                TH√äM V√ÄO GI·ªé
              </button>
              
              <button onclick="handlePurchase(${product.id}, 'buy')" class="add-btn" 
                      style="flex: 1; padding: 15px; background: #1e293b; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                MUA NGAY
              </button>
            </div>
            
            <div style="margin-top: 20px;">
              <a href="index.html" style="text-decoration: none; color: #64748b; font-size: 14px;">‚Üê Ti·∫øp t·ª•c mua s·∫Øm</a>
            </div>
          </div>
        </div>
      `;
    }
  });

  // H√†m x·ª≠ l√Ω chung cho c·∫£ 2 n√∫t
  function handlePurchase(id, type) {
    const userLogin = localStorage.getItem("userLogin");

    if (!userLogin) {
      alert("Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ th·ª±c hi·ªán thao t√°c n√†y!");
      window.location.href = "login.html";
      return;
    }

    // G·ªçi h√†m addToCart c√≥ s·∫µn trong script.js
    addToCart(id);

    if (type === 'buy') {
      window.location.href = "cart.html"; // N·∫øu l√† "Mua ngay" th√¨ chuy·ªÉn th·∫≥ng t·ªõi gi·ªè h√†ng
    }
  }
</script>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-col">
          <h3>‚ö° SHOE-DEV</h3>
          <p class="footer-desc">
            Chuy√™n cung c·∫•p c√°c d√≤ng gi√†y sneaker ch√≠nh h√£ng, phong c√°ch v√† ch·∫•t
            l∆∞·ª£ng h√†ng ƒë·∫ßu. N√¢ng niu b√†n ch√¢n Vi·ªát.
          </p>
          <div class="social-links">
            <a href="#">FB</a>
            <a href="#">IG</a>
            <a href="#">YT</a>
          </div>
        </div>

        <div class="footer-col">
          <h3>H·ªó tr·ª£ kh√°ch h√†ng</h3>
          <ul>
            <li><a href="#">H∆∞·ªõng d·∫´n ch·ªçn size</a></li>
            <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
            <li><a href="#">Thanh to√°n & V·∫≠n chuy·ªÉn</a></li>
            <li><a href="#">B·∫£o m·∫≠t th√¥ng tin</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Li√™n h·ªá</h3>
          <p>üìç ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</p>
          <p>üìû Hotline: 0909.xxx.xxx</p>
          <p>‚úâÔ∏è Email: contact@shoedev.com</p>
          <div class="student-info">
            <span>Sinh vi√™n: V≈© Th√°i Huy</span> <br />
            <span>MSSV: 24N01214</span>
          </div>
          <div class="student-info">
            <span>Sinh vi√™n: ƒê·ªó L√¢m Tr∆∞·ªùng</span> <br />
            <span>MSSV: 24N01211</span>
          </div>
        </div>
      </div>

      <div class="footer-bottom">¬© 2024 SHOE-DEV. All rights reserved.</div>
    </footer>

    <script src="../js/script.js"></script>
    <script>
      renderDetailPage();
    </script>
    
  </body>
</html>
